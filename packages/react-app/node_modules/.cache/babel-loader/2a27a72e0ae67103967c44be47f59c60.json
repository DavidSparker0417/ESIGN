{"ast":null,"code":"var _jsxFileName = \"D:\\\\Working\\\\Freelancing\\\\18.PWA\\\\Project\\\\esign\\\\packages\\\\react-app\\\\src\\\\pages\\\\esign\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport PDFViewer from \"./components/PDFViewer\";\nimport testPayload from \"../../assets/payload.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst b64toBlob = function (b64Data) {\n  let contentType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  let sliceSize = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 512;\n  const byteCharacters = atob(b64Data);\n  const byteArrays = [];\n\n  for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n    const slice = byteCharacters.slice(offset, offset + sliceSize);\n    const byteNumbers = new Array(slice.length);\n\n    for (let i = 0; i < slice.length; i++) {\n      byteNumbers[i] = slice.charCodeAt(i);\n    }\n\n    const byteArray = new Uint8Array(byteNumbers);\n    byteArrays.push(byteArray);\n  }\n\n  const blob = new Blob(byteArrays, {\n    type: contentType\n  });\n  return blob;\n};\n\nconst base64toBlob = data => {\n  const bytes = atob(data);\n  let length = bytes.length;\n  let out = new Uint8Array(length);\n\n  while (length--) {\n    out[length] = bytes.charCodeAt(length);\n  }\n\n  return new Blob([out], {\n    type: \"application/pdf\"\n  });\n};\n\nexport default function EsignPage() {\n  _s();\n\n  const [pdf, setPdf] = useState();\n  useEffect(() => {\n    console.log(\"[DAVID] testPayload :: \", testPayload);\n    const doc = testPayload.documents[0];\n    const blob = b64toBlob(doc.documentBase64, \"application/pdf\");\n    const url = URL.createObjectURL(blob);\n    const dinfo = {\n      url: url,\n      filename: doc.name\n    };\n    setPdf(dinfo);\n    console.log(\"[DAVID] base64Response :: \", blob, dinfo);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(PDFViewer, {\n      pdf: pdf\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n}\n\n_s(EsignPage, \"/ewN/ruwgllo2Jm1gcfTEXbFTro=\");\n\n_c = EsignPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"EsignPage\");","map":{"version":3,"names":["React","useEffect","useState","PDFViewer","testPayload","b64toBlob","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","offset","length","slice","byteNumbers","Array","i","charCodeAt","byteArray","Uint8Array","push","blob","Blob","type","base64toBlob","data","bytes","out","EsignPage","pdf","setPdf","console","log","doc","documents","documentBase64","url","URL","createObjectURL","dinfo","filename","name"],"sources":["D:/Working/Freelancing/18.PWA/Project/esign/packages/react-app/src/pages/esign/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport PDFViewer from \"./components/PDFViewer\";\r\nimport testPayload from \"../../assets/payload.json\";\r\n\r\nconst b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\r\n  const byteCharacters = atob(b64Data);\r\n  const byteArrays = [];\r\n\r\n  for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n    const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n    const byteNumbers = new Array(slice.length);\r\n\r\n    for (let i = 0; i < slice.length; i++) {\r\n      byteNumbers[i] = slice.charCodeAt(i);\r\n    }\r\n    const byteArray = new Uint8Array(byteNumbers);\r\n    byteArrays.push(byteArray);\r\n  }\r\n\r\n  const blob = new Blob(byteArrays, { type: contentType });\r\n\r\n  return blob;\r\n} \r\nconst base64toBlob = (data) => {\r\n  const bytes = atob(data);\r\n  let length = bytes.length;\r\n  let out = new Uint8Array(length);\r\n\r\n  while (length--) {\r\n    out[length] = bytes.charCodeAt(length);\r\n  }\r\n\r\n  return new Blob([out], { type: \"application/pdf\" });\r\n};\r\n\r\nexport default function EsignPage() {\r\n  const [pdf, setPdf] = useState();\r\n\r\n  useEffect(() => {\r\n    console.log(\"[DAVID] testPayload :: \", testPayload);\r\n    const doc = testPayload.documents[0];\r\n    const blob = b64toBlob(doc.documentBase64, \"application/pdf\");\r\n    const url = URL.createObjectURL(blob);\r\n    const dinfo = {\r\n      url: url,\r\n      filename: doc.name\r\n    };\r\n    setPdf(dinfo);\r\n    console.log(\"[DAVID] base64Response :: \", blob, dinfo);\r\n  }, []);\r\n\r\n  return(\r\n  <>\r\n    <PDFViewer pdf={pdf}/>\r\n  </>)\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;;;AAEA,MAAMC,SAAS,GAAG,UAACC,OAAD,EAAgD;EAAA,IAAtCC,WAAsC,uEAAxB,EAAwB;EAAA,IAApBC,SAAoB,uEAAR,GAAQ;EAChE,MAAMC,cAAc,GAAGC,IAAI,CAACJ,OAAD,CAA3B;EACA,MAAMK,UAAU,GAAG,EAAnB;;EAEA,KAAK,IAAIC,MAAM,GAAG,CAAlB,EAAqBA,MAAM,GAAGH,cAAc,CAACI,MAA7C,EAAqDD,MAAM,IAAIJ,SAA/D,EAA0E;IACxE,MAAMM,KAAK,GAAGL,cAAc,CAACK,KAAf,CAAqBF,MAArB,EAA6BA,MAAM,GAAGJ,SAAtC,CAAd;IACA,MAAMO,WAAW,GAAG,IAAIC,KAAJ,CAAUF,KAAK,CAACD,MAAhB,CAApB;;IAEA,KAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACD,MAA1B,EAAkCI,CAAC,EAAnC,EAAuC;MACrCF,WAAW,CAACE,CAAD,CAAX,GAAiBH,KAAK,CAACI,UAAN,CAAiBD,CAAjB,CAAjB;IACD;;IACD,MAAME,SAAS,GAAG,IAAIC,UAAJ,CAAeL,WAAf,CAAlB;IACAJ,UAAU,CAACU,IAAX,CAAgBF,SAAhB;EACD;;EAED,MAAMG,IAAI,GAAG,IAAIC,IAAJ,CAASZ,UAAT,EAAqB;IAAEa,IAAI,EAAEjB;EAAR,CAArB,CAAb;EAEA,OAAOe,IAAP;AACD,CAlBD;;AAmBA,MAAMG,YAAY,GAAIC,IAAD,IAAU;EAC7B,MAAMC,KAAK,GAAGjB,IAAI,CAACgB,IAAD,CAAlB;EACA,IAAIb,MAAM,GAAGc,KAAK,CAACd,MAAnB;EACA,IAAIe,GAAG,GAAG,IAAIR,UAAJ,CAAeP,MAAf,CAAV;;EAEA,OAAOA,MAAM,EAAb,EAAiB;IACfe,GAAG,CAACf,MAAD,CAAH,GAAcc,KAAK,CAACT,UAAN,CAAiBL,MAAjB,CAAd;EACD;;EAED,OAAO,IAAIU,IAAJ,CAAS,CAACK,GAAD,CAAT,EAAgB;IAAEJ,IAAI,EAAE;EAAR,CAAhB,CAAP;AACD,CAVD;;AAYA,eAAe,SAASK,SAAT,GAAqB;EAAA;;EAClC,MAAM,CAACC,GAAD,EAAMC,MAAN,IAAgB7B,QAAQ,EAA9B;EAEAD,SAAS,CAAC,MAAM;IACd+B,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuC7B,WAAvC;IACA,MAAM8B,GAAG,GAAG9B,WAAW,CAAC+B,SAAZ,CAAsB,CAAtB,CAAZ;IACA,MAAMb,IAAI,GAAGjB,SAAS,CAAC6B,GAAG,CAACE,cAAL,EAAqB,iBAArB,CAAtB;IACA,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAJ,CAAoBjB,IAApB,CAAZ;IACA,MAAMkB,KAAK,GAAG;MACZH,GAAG,EAAEA,GADO;MAEZI,QAAQ,EAAEP,GAAG,CAACQ;IAFF,CAAd;IAIAX,MAAM,CAACS,KAAD,CAAN;IACAR,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CX,IAA1C,EAAgDkB,KAAhD;EACD,CAXQ,EAWN,EAXM,CAAT;EAaA,oBACA;IAAA,uBACE,QAAC,SAAD;MAAW,GAAG,EAAEV;IAAhB;MAAA;MAAA;MAAA;IAAA;EADF,iBADA;AAID;;GApBuBD,S;;KAAAA,S"},"metadata":{},"sourceType":"module"}